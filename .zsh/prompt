
# functions 
function git_prompt_info {
    git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)/'
}
function git_stash_count {
    cnt=`git stash list 2> /dev/null | wc -l | sed -e 's/^ *//'`
    [ "$cnt" -ne 0 ] && echo "@{$cnt}";
}

setopt promptsubst
local CUR_BRANCH='$(git_prompt_info)'
local CUR_STASH_COUNT='$(git_stash_count)'

PROMPT="%F{blue}[%f%F{yellow}%n@%m:%~%f%F{blue}]%f%F{green}${CUR_BRANCH}%F{blue}${CUR_STASH_COUNT}%f
%F{green}%# %f"

